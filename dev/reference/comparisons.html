<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Predict the outcome variable at different regressor values (e.g., college
graduates vs. others), and compare those predictions by computing a difference,
ratio, or some other function. comparisons() can return many quantities of
interest, such as contrasts, differences, risk ratios, changes in log odds,
slopes, elasticities, etc.
comparisons(): unit-level (conditional) estimates.
avg_comparisons(): average (marginal) estimates.


The newdata argument and the datagrid() function can be used to control where statistics are evaluated in the predictor space: "at observed values", "at the mean", "at representative values", etc.
See the comparisons vignette and package website for worked examples and case studies:
https://vincentarelbundock.github.io/marginaleffects/articles/comparisons.html
https://vincentarelbundock.github.io/marginaleffects/

'><title>Comparisons Between Predictions Made With Different Regressor Values — comparisons • marginaleffects</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparisons Between Predictions Made With Different Regressor Values — comparisons"><meta property="og:description" content='Predict the outcome variable at different regressor values (e.g., college
graduates vs. others), and compare those predictions by computing a difference,
ratio, or some other function. comparisons() can return many quantities of
interest, such as contrasts, differences, risk ratios, changes in log odds,
slopes, elasticities, etc.
comparisons(): unit-level (conditional) estimates.
avg_comparisons(): average (marginal) estimates.


The newdata argument and the datagrid() function can be used to control where statistics are evaluated in the predictor space: "at observed values", "at the mean", "at representative values", etc.
See the comparisons vignette and package website for worked examples and case studies:
https://vincentarelbundock.github.io/marginaleffects/articles/comparisons.html
https://vincentarelbundock.github.io/marginaleffects/

'><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">marginaleffects</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.0.9043</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/marginaleffects.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vincentarelbundock/marginaleffects/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Comparisons Between Predictions Made With Different Regressor Values</h1>
      <small class="dont-index">Source: <a href="https://github.com/vincentarelbundock/marginaleffects/blob/HEAD/R/comparisons.R" class="external-link"><code>R/comparisons.R</code></a></small>
      <div class="d-none name"><code>comparisons.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Predict the outcome variable at different regressor values (e.g., college
graduates vs. others), and compare those predictions by computing a difference,
ratio, or some other function. <code>comparisons()</code> can return many quantities of
interest, such as contrasts, differences, risk ratios, changes in log odds,
slopes, elasticities, etc.</p><ul><li><p><code>comparisons()</code>: unit-level (conditional) estimates.</p></li>
<li><p><code>avg_comparisons()</code>: average (marginal) estimates.</p></li>
</ul><p>The <code>newdata</code> argument and the <code><a href="datagrid.html">datagrid()</a></code> function can be used to control where statistics are evaluated in the predictor space: "at observed values", "at the mean", "at representative values", etc.</p>
<p>See the comparisons vignette and package website for worked examples and case studies:</p><ul><li><p><a href="https://vincentarelbundock.github.io/marginaleffects/articles/comparisons.html">https://vincentarelbundock.github.io/marginaleffects/articles/comparisons.html</a></p></li>
<li><p><a href="https://vincentarelbundock.github.io/marginaleffects/">https://vincentarelbundock.github.io/marginaleffects/</a></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">comparisons</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vcov <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  conf_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  transform_pre <span class="op">=</span> <span class="st">"difference"</span>,</span>
<span>  transform_post <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cross <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  wts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hypothesis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  eps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">avg_comparisons</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vcov <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  conf_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  transform_pre <span class="op">=</span> <span class="st">"difference"</span>,</span>
<span>  transform_post <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cross <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  wts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hypothesis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  eps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>Model object</p></dd>


<dt>newdata</dt>
<dd><p>Grid of predictor values at which we evaluate the comparisons.</p><ul><li><p><code>NULL</code> (default): Unit-level contrasts for each observed value in the original dataset (empirical distribution).</p></li>
<li><p>data frame: Unit-level contrasts for each row of the <code>newdata</code> data frame.</p></li>
<li><p>string:</p><ul><li><p>"mean": Contrasts at the Mean. Contrasts when each predictor is held at its mean or mode.</p></li>
<li><p>"median": Contrasts at the Median. Contrasts when each predictor is held at its median or mode.</p></li>
<li><p>"marginalmeans": Contrasts at Marginal Means.</p></li>
<li><p>"tukey": Contrasts at Tukey's 5 numbers.</p></li>
<li><p>"grid": Contrasts on a grid of representative numbers (Tukey's 5 numbers and unique values of categorical predictors).</p></li>
</ul></li>
<li><p><code><a href="datagrid.html">datagrid()</a></code> call to specify a custom grid of regressors. For example:</p><ul><li><p><code>newdata = datagrid(cyl = c(4, 6))</code>: <code>cyl</code> variable equal to 4 and 6 and other regressors fixed at their means or modes.</p></li>
<li><p><code>newdata = datagrid(mpg = fivenum)</code>: <code>mpg</code> variable held at Tukey's five numbers (using the <code>fivenum</code> function), and other regressors fixed at their means or modes.</p></li>
<li><p>See the Examples section and the <a href="datagrid.html">datagrid</a> documentation.</p></li>
</ul></li>
</ul></dd>


<dt>variables</dt>
<dd><p>Focal variables</p><ul><li><p><code>NULL</code>: compute comparisons for all the variables in the model object (can be slow).</p></li>
<li><p>Character vector: subset of variables (usually faster).</p></li>
<li><p>Named list: names identify the subset of variables of interest, and values define the type of contrast to compute. Acceptable values depend on the variable type:</p><ul><li><p>Factor or character variables:</p><ul><li><p>"reference": Each factor level is compared to the factor reference (base) level</p></li>
<li><p>"all": All combinations of observed levels</p></li>
<li><p>"sequential": Each factor level is compared to the previous factor level</p></li>
<li><p>"pairwise": Each factor level is compared to all other levels</p></li>
<li><p>"minmax": The highest and lowest levels of a factor.</p></li>
<li><p>Vector of length 2 with the two values to compare.</p></li>
</ul></li>
<li><p>Logical variables:</p><ul><li><p>NULL: contrast between TRUE and FALSE</p></li>
</ul></li>
<li><p>Numeric variables:</p><ul><li><p>Numeric of length 1: Contrast for a gap of <code>x</code>, computed at the observed value plus and minus <code>x / 2</code>. For example, estimating a <code>+1</code> contrast compares adjusted predictions when the regressor is equal to its observed value minus 0.5 and its observed value plus 0.5.</p></li>
<li><p>Numeric vector of length 2: Contrast between the 2nd element and the 1st element of the <code>x</code> vector.</p></li>
<li><p>Function which accepts a numeric vector and returns a data frame with two columns of "low" and "high" values to compare. See examples below.</p></li>
<li><p>"iqr": Contrast across the interquartile range of the regressor.</p></li>
<li><p>"sd": Contrast across one standard deviation around the regressor mean.</p></li>
<li><p>"2sd": Contrast across two standard deviations around the regressor mean.</p></li>
<li><p>"minmax": Contrast between the maximum and the minimum values of the regressor.</p></li>
</ul></li>
<li><p>Examples:</p><ul><li><p><code>variables = list(gear = "pairwise", hp = 10)</code></p></li>
<li><p><code>variables = list(gear = "sequential", hp = c(100, 120))</code></p></li>
<li><p>See the Examples section below for more.</p></li>
</ul></li>
</ul></li>
</ul></dd>


<dt>type</dt>
<dd><p>string indicates the type (scale) of the predictions used to
compute contrasts or slopes. This can differ based on the model
type, but will typically be a string such as: "response", "link", "probs",
or "zero". When an unsupported string is entered, the model-specific list of
acceptable values is returned in an error message. When <code>type</code> is <code>NULL</code>, the
default value is used. This default is the first model-related row in
the <code>marginaleffects:::type_dictionary</code> dataframe.</p></dd>


<dt>vcov</dt>
<dd><p>Type of uncertainty estimates to report (e.g., for robust standard errors). Acceptable values:</p><ul><li><p>FALSE: Do not compute standard errors. This can speed up computation considerably.</p></li>
<li><p>TRUE: Unit-level standard errors using the default <code>vcov(model)</code> variance-covariance matrix.</p></li>
<li><p>String which indicates the kind of uncertainty estimates to return.</p><ul><li><p>Heteroskedasticity-consistent: <code>"HC"</code>, <code>"HC0"</code>, <code>"HC1"</code>, <code>"HC2"</code>, <code>"HC3"</code>, <code>"HC4"</code>, <code>"HC4m"</code>, <code>"HC5"</code>. See <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHC.html" class="external-link">?sandwich::vcovHC</a></code></p></li>
<li><p>Heteroskedasticity and autocorrelation consistent: <code>"HAC"</code></p></li>
<li><p>Mixed-Models degrees of freedom: "satterthwaite", "kenward-roger"</p></li>
<li><p>Other: <code>"NeweyWest"</code>, <code>"KernHAC"</code>, <code>"OPG"</code>. See the <code>sandwich</code> package documentation.</p></li>
</ul></li>
<li><p>One-sided formula which indicates the name of cluster variables (e.g., <code>~unit_id</code>). This formula is passed to the <code>cluster</code> argument of the <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovCL.html" class="external-link">sandwich::vcovCL</a></code> function.</p></li>
<li><p>Square covariance matrix</p></li>
<li><p>Function which returns a covariance matrix (e.g., <code>stats::vcov(model)</code>)</p></li>
</ul></dd>


<dt>by</dt>
<dd><p>Aggregate unit-level estimates (aka, marginalize, average over). Valid inputs:</p><ul><li><p><code>FALSE</code>: return the original unit-level estimates.</p></li>
<li><p><code>TRUE</code>: aggregate estimates for each term.</p></li>
<li><p>Character vector of column names in <code>newdata</code> or in the data frame produced by calling the function without the <code>by</code> argument.</p></li>
<li><p>Data frame with a <code>by</code> column of group labels, and merging columns shared by <code>newdata</code> or the data frame produced by calling the same function without the <code>by</code> argument.</p></li>
<li><p>See examples below.</p></li>
</ul></dd>


<dt>conf_level</dt>
<dd><p>numeric value between 0 and 1. Confidence level to use to build a confidence interval.</p></dd>


<dt>transform_pre</dt>
<dd><p>string or function. How should pairs of adjusted predictions be contrasted?</p><ul><li><p>string: shortcuts to common contrast functions.</p><ul><li><p>Supported shortcuts strings: difference, differenceavg, differenceavgwts, dydx, eyex, eydx, dyex, dydxavg, eyexavg, eydxavg, dyexavg, dydxavgwts, eyexavgwts, eydxavgwts, dyexavgwts, ratio, ratioavg, ratioavgwts, lnratio, lnratioavg, lnratioavgwts, lnor, lnoravg, lnoravgwts, expdydx, expdydxavg, expdydxavgwts</p></li>
<li><p>See the Transformations section below for definitions of each transformation.</p></li>
</ul></li>
<li><p>function: accept two equal-length numeric vectors of adjusted predictions (<code>hi</code> and <code>lo</code>) and returns a vector of contrasts of the same length, or a unique numeric value.</p><ul><li><p>See the Transformations section below for examples of valid functions.</p></li>
</ul></li>
</ul></dd>


<dt>transform_post</dt>
<dd><p>string or function. Transformation applied to unit-level estimates and confidence intervals just before the function returns results. Functions must accept a vector and return a vector of the same length. Support string shortcuts: "exp", "ln"</p></dd>


<dt>cross</dt>
<dd><p>TRUE or FALSE</p><ul><li><p><code>FALSE</code>: Contrasts represent the change in adjusted predictions when one predictor changes and all other variables are held constant.</p></li>
<li><p><code>TRUE</code>: Contrasts represent the changes in adjusted predictions when all the predictors specified in the <code>variables</code> argument are manipulated simultaneously (a "cross-contrast").</p></li>
</ul></dd>


<dt>wts</dt>
<dd><p>string or numeric: weights to use when computing average
contrasts or slopes. These weights only affect the averaging in
<code>avg_*()</code> or with the <code>by</code> argument, and not the unit-level estimates themselves.</p><ul><li><p>string: column name of the weights variable in <code>newdata</code>. When supplying a column name to <code>wts</code>, it is recommended to supply the original data (including the weights variable) explicitly to <code>newdata</code>.</p></li>
<li><p>numeric: vector of length equal to the number of rows in the original data or in <code>newdata</code> (if supplied).</p></li>
</ul></dd>


<dt>hypothesis</dt>
<dd><p>specify a hypothesis test or custom contrast using a numeric value, vector, or matrix, a string, or a string formula.</p><ul><li><p>Numeric:</p><ul><li><p>Single value: the null hypothesis used in the computation of Z and p (before applying <code>transform_post</code>).</p></li>
<li><p>Vector: Weights to compute a linear combination of (custom contrast between) estimates. Length equal to the number of rows generated by the same function call, but without the <code>hypothesis</code> argument.</p></li>
<li><p>Matrix: Each column is a vector of weights, as describe above, used to compute a distinct linear combination of (contrast between) estimates. The column names of the matrix are used as labels in the output.</p></li>
</ul></li>
<li><p>String formula to specify linear or non-linear hypothesis tests. If the <code>term</code> column uniquely identifies rows, terms can be used in the formula. Otherwise, use <code>b1</code>, <code>b2</code>, etc. to identify the position of each parameter. Examples:</p><ul><li><p><code>hp = drat</code></p></li>
<li><p><code>hp + drat = 12</code></p></li>
<li><p><code>b1 + b2 + b3 = 0</code></p></li>
</ul></li>
<li><p>String:</p><ul><li><p>"pairwise": pairwise differences between estimates in each row.</p></li>
<li><p>"reference": differences between the estimates in each row and the estimate in the first row.</p></li>
<li><p>"sequential": difference between an estimate and the estimate in the next row.</p></li>
<li><p>"revpairwise", "revreference", "revsequential": inverse of the corresponding hypotheses, as described above.</p></li>
</ul></li>
<li><p>See the Examples section below and the vignette: https://vincentarelbundock.github.io/marginaleffects/articles/hypothesis.html</p></li>
</ul></dd>


<dt>df</dt>
<dd><p>Degrees of freedom used to compute p values and confidence intervals. A single numeric value between 1 and <code>Inf</code>. When <code>df</code> is <code>Inf</code>, the normal distribution is used. When <code>df</code> is finite, the <code>t</code> distribution is used. See <a href="https://easystats.github.io/insight/reference/get_df.html" class="external-link">insight::get_df</a> for a convenient function to extract degrees of freedom. Ex: <code>slopes(model, df = insight::get_df(model))</code></p></dd>


<dt>eps</dt>
<dd><p>NULL or numeric value which determines the step size to use when
calculating numerical derivatives: (f(x+eps)-f(x))/eps. When <code>eps</code> is
<code>NULL</code>, the step size is 0.0001 multiplied by the difference between
the maximum and minimum values of the variable with respect to which we
are taking the derivative. Changing <code>eps</code> may be necessary to avoid
numerical problems in certain models.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments are passed to the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method
supplied by the modeling package.These arguments are particularly useful
for mixed-effects or bayesian models (see the online vignettes on the
<code>marginaleffects</code> website). Available arguments can vary from model to
model, depending on the range of supported arguments by each modeling
package. See the "Model-Specific Arguments" section of the
<code><a href="marginaleffects.html">?marginaleffects</a></code> documentation for a non-exhaustive list of available
arguments.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>avg_comparisons()</code>: Average comparisons</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="model-specific-arguments">Model-Specific Arguments<a class="anchor" aria-label="anchor" href="#model-specific-arguments"></a></h2>
    


<p>Some model types allow model-specific arguments to modify the nature of
marginal effects, predictions, marginal means, and contrasts.</p><table class="table table"><tr><td>Package</td><td>Class</td><td>Argument</td><td>Documentation</td></tr><tr><td><code>brms</code></td><td><code>brmsfit</code></td><td><code>ndraws</code></td><td><a href="https://rdrr.io/pkg/brms/man/posterior_predict.brmsfit.html" class="external-link">brms::posterior_predict</a></td></tr><tr><td></td><td></td><td><code>re_formula</code></td><td></td></tr><tr><td><code>lme4</code></td><td><code>merMod</code></td><td><code>include_random</code></td><td><a href="https://easystats.github.io/insight/reference/get_predicted.html" class="external-link">insight::get_predicted</a></td></tr><tr><td></td><td></td><td><code>re.form</code></td><td><a href="https://rdrr.io/pkg/lme4/man/predict.merMod.html" class="external-link">lme4::predict.merMod</a></td></tr><tr><td></td><td></td><td><code>allow.new.levels</code></td><td><a href="https://rdrr.io/pkg/lme4/man/predict.merMod.html" class="external-link">lme4::predict.merMod</a></td></tr><tr><td><code>glmmTMB</code></td><td><code>glmmTMB</code></td><td><code>re.form</code></td><td><a href="https://rdrr.io/pkg/glmmTMB/man/predict.glmmTMB.html" class="external-link">glmmTMB::predict.glmmTMB</a></td></tr><tr><td></td><td></td><td><code>allow.new.levels</code></td><td><a href="https://rdrr.io/pkg/glmmTMB/man/predict.glmmTMB.html" class="external-link">glmmTMB::predict.glmmTMB</a></td></tr><tr><td></td><td></td><td><code>zitype</code></td><td><a href="https://rdrr.io/pkg/glmmTMB/man/predict.glmmTMB.html" class="external-link">glmmTMB::predict.glmmTMB</a></td></tr><tr><td><code>mgcv</code></td><td><code>bam</code></td><td><code>exclude</code></td><td><a href="https://rdrr.io/pkg/mgcv/man/predict.bam.html" class="external-link">mgcv::predict.bam</a></td></tr><tr><td><code>robustlmm</code></td><td><code>rlmerMod</code></td><td><code>re.form</code></td><td><a href="https://rdrr.io/pkg/robustlmm/man/rlmerMod-class.html" class="external-link">robustlmm::predict.rlmerMod</a></td></tr><tr><td></td><td></td><td><code>allow.new.levels</code></td><td><a href="https://rdrr.io/pkg/robustlmm/man/rlmerMod-class.html" class="external-link">robustlmm::predict.rlmerMod</a></td></tr><tr><td><code>MCMCglmm</code></td><td><code>MCMCglmm</code></td><td><code>ndraws  </code></td><td></td></tr></table></div>
    <div class="section level2">
    <h2 id="transformations">Transformations<a class="anchor" aria-label="anchor" href="#transformations"></a></h2>
    


<p>The following transformations can be applied by supplying one of the shortcut strings to the
<code>transform_pre</code> argument.
<code>hi</code> is a vector of adjusted predictions for the "high" side of the
contrast. <code>lo</code> is a vector of adjusted predictions for the "low" side of the
contrast. <code>y</code> is a vector of adjusted predictions for the original data. <code>x</code>
is the predictor in the original data. <code>eps</code> is the step size to use to
compute derivatives and elasticities.</p><table class="table table"><tr><td>Shortcut</td><td>Function</td></tr><tr><td>difference</td><td>\(hi, lo) hi - lo</td></tr><tr><td>differenceavg</td><td>\(hi, lo) mean(hi) - mean(lo)</td></tr><tr><td>differenceavgwts</td><td>\(hi, lo, w) wmean(hi, w) - wmean(lo, w)</td></tr><tr><td>dydx</td><td>\(hi, lo, eps) (hi - lo)/eps</td></tr><tr><td>eyex</td><td>\(hi, lo, eps, y, x) (hi - lo)/eps * (x/y)</td></tr><tr><td>eydx</td><td>\(hi, lo, eps, y, x) ((hi - lo)/eps)/y</td></tr><tr><td>dyex</td><td>\(hi, lo, eps, x) ((hi - lo)/eps) * x</td></tr><tr><td>dydxavg</td><td>\(hi, lo, eps) mean((hi - lo)/eps)</td></tr><tr><td>eyexavg</td><td>\(hi, lo, eps, y, x) mean((hi - lo)/eps * (x/y))</td></tr><tr><td>eydxavg</td><td>\(hi, lo, eps, y, x) mean(((hi - lo)/eps)/y)</td></tr><tr><td>dyexavg</td><td>\(hi, lo, eps, x) mean(((hi - lo)/eps) * x)</td></tr><tr><td>dydxavgwts</td><td>\(hi, lo, eps, w) wmean((hi - lo)/eps, w)</td></tr><tr><td>eyexavgwts</td><td>\(hi, lo, eps, y, x, w) wmean((hi - lo)/eps * (x/y), w)</td></tr><tr><td>eydxavgwts</td><td>\(hi, lo, eps, y, x, w) wmean(((hi - lo)/eps)/y, w)</td></tr><tr><td>dyexavgwts</td><td>\(hi, lo, eps, x, w) wmean(((hi - lo)/eps) * x, w)</td></tr><tr><td>ratio</td><td>\(hi, lo) hi/lo</td></tr><tr><td>ratioavg</td><td>\(hi, lo) mean(hi)/mean(lo)</td></tr><tr><td>ratioavgwts</td><td>\(hi, lo) wmean(hi)/wmean(lo)</td></tr><tr><td>lnratio</td><td>\(hi, lo) log(hi/lo)</td></tr><tr><td>lnratioavg</td><td>\(hi, lo) log(mean(hi)/mean(lo))</td></tr><tr><td>lnratioavgwts</td><td>\(hi, lo) log(wmean(hi)/wmean(lo))</td></tr><tr><td>lnor</td><td>\(hi, lo) log((hi/(1 - hi))/(lo/(1 - lo)))</td></tr><tr><td>lnoravg</td><td>\(hi, lo) log((mean(hi)/(1 - mean(hi)))/(mean(lo)/(1 - mean(lo))))</td></tr><tr><td>lnoravgwts</td><td>\(hi, lo, w) log((wmean(hi, w)/(1 - wmean(hi, w)))/(wmean(lo, w)/(1 - wmean(lo, w))))</td></tr><tr><td>expdydx</td><td>\(hi, lo, eps) ((exp(hi) - exp(lo))/exp(eps))/eps</td></tr><tr><td>expdydxavg</td><td>\(hi, lo, eps) mean(((exp(hi) - exp(lo))/exp(eps))/eps)</td></tr><tr><td>expdydxavgwts</td><td>\(hi, lo, eps, w) wmean(((exp(hi) - exp(lo))/exp(eps))/eps, w)</td></tr></table></div>
    <div class="section level2">
    <h2 id="bayesian-posterior-summaries">Bayesian posterior summaries<a class="anchor" aria-label="anchor" href="#bayesian-posterior-summaries"></a></h2>
    


<p>By default, credible intervals in bayesian models are built as equal-tailed
intervals. This can be changed to a highest density interval by setting a global
option:</p>
<p><code>options("marginaleffects_posterior_interval" = "eti")</code></p>
<p><code>options("marginaleffects_posterior_interval" = "hdi")</code></p>
<p>By default, the center of the posterior distribution in bayesian models is
identified by the median. Users can use a different summary function by setting a
global option:</p>
<p><code>options("marginaleffects_posterior_center" = "mean")</code></p>
<p><code>options("marginaleffects_posterior_center" = "median")</code></p>
<p>When estimates are averaged using the <code>by</code> argument, the <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code> function, or
the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function, the posterior distribution is marginalized twice over.
First, we take the average <em>across</em> units but <em>within</em> each iteration of the
MCMC chain, according to what the user requested in <code>by</code> argument or
<code>tidy()/summary()</code> functions. Then, we identify the center of the resulting
posterior using the function supplied to the
<code>"marginaleffects_posterior_center"</code> option (the median by default).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Linear model</span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span></span>
<span class="r-in"><span><span class="va">tmp</span><span class="op">$</span><span class="va">am</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">as.logical</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">am</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>, <span class="va">tmp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="st">"reference"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The `cyl` variable is treated as a categorical (factor) variable, but</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   the original data is of class numeric. It is safer and faster to convert</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   such variables to factor before fitting the model and calling `slopes`</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   functions.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   This warning appears once per session.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response cyl   mean(6) - mea…   -<span style="color: #BB0000;">6.16</span>    1.54   -<span style="color: #BB0000;">4.01</span> 6.11<span style="color: #949494;">e</span><span style="color: #BB0000;">- 5</span>   -<span style="color: #BB0000;">9.17</span>   -<span style="color: #BB0000;">3.15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> response cyl   mean(8) - mea…  -<span style="color: #BB0000;">10.1</span>     1.45   -<span style="color: #BB0000;">6.93</span> 4.11<span style="color: #949494;">e</span><span style="color: #BB0000;">-12</span>  -<span style="color: #BB0000;">12.9</span>    -<span style="color: #BB0000;">7.22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="st">"sequential"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast        estim…¹ std.e…² stati…³ p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response cyl   mean(6) - mean…   -<span style="color: #BB0000;">6.16</span>    1.54   -<span style="color: #BB0000;">4.01</span> 6.11<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>   -<span style="color: #BB0000;">9.17</span>   -<span style="color: #BB0000;">3.15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> response cyl   mean(8) - mean…   -<span style="color: #BB0000;">3.91</span>    1.47   -<span style="color: #BB0000;">2.66</span> 7.81<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span>   -<span style="color: #BB0000;">6.79</span>   -<span style="color: #BB0000;">1.03</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="st">"pairwise"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response cyl   mean(6) - mea…   -<span style="color: #BB0000;">6.16</span>    1.54   -<span style="color: #BB0000;">4.01</span> 6.11<span style="color: #949494;">e</span><span style="color: #BB0000;">- 5</span>   -<span style="color: #BB0000;">9.17</span>   -<span style="color: #BB0000;">3.15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> response cyl   mean(8) - mea…  -<span style="color: #BB0000;">10.1</span>     1.45   -<span style="color: #BB0000;">6.93</span> 4.11<span style="color: #949494;">e</span><span style="color: #BB0000;">-12</span>  -<span style="color: #BB0000;">12.9</span>    -<span style="color: #BB0000;">7.22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> response cyl   mean(8) - mea…   -<span style="color: #BB0000;">3.91</span>    1.47   -<span style="color: #BB0000;">2.66</span> 7.81<span style="color: #949494;">e</span><span style="color: #BB0000;">- 3</span>   -<span style="color: #BB0000;">6.79</span>   -<span style="color: #BB0000;">1.03</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># GLM with different scale types</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">am</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">gear</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response gear  mean(4) - mea…   0.667   0.117    5.68 1.38<span style="color: #949494;">e</span><span style="color: #BB0000;">- 8</span>   0.436   0.897</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> response gear  mean(5) - mea…   1       0.157    6.39 1.70<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>   0.693   1.31 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, type <span class="op">=</span> <span class="st">"link"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type  term  contrast          estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> link  gear  mean(4) - mean(3)   0.667   0.117    5.68 1.38<span style="color: #949494;">e</span><span style="color: #BB0000;">- 8</span>   0.436   0.897</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> link  gear  mean(5) - mean(3)   1       0.157    6.39 1.70<span style="color: #949494;">e</span><span style="color: #BB0000;">-10</span>   0.693   1.31 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Contrasts at the mean</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error     z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: rowid, type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo, am, gear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Contrasts between marginal means</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="st">"marginalmeans"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error     z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Contrasts at user-specified values</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="fu"><a href="datagrid.html">datagrid</a></span><span class="op">(</span>am <span class="op">=</span> <span class="fl">0</span>, gear <span class="op">=</span> <span class="va">tmp</span><span class="op">$</span><span class="va">gear</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error     z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: rowid, type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo, am, gear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="fu"><a href="datagrid.html">datagrid</a></span><span class="op">(</span>am <span class="op">=</span> <span class="va">unique</span>, gear <span class="op">=</span> <span class="va">max</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error     z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   0.6667     0.1174 5.676 1.3751e-08 0.4365 0.8969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 3   1.0000     0.1566 6.386 1.7026e-10 0.6931 1.3069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: rowid, type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo, am, gear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">drat</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">am</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">m</span>, variables <span class="op">=</span> <span class="st">"hp"</span>, newdata <span class="op">=</span> <span class="fu"><a href="datagrid.html">datagrid</a></span><span class="op">(</span>FUN_factor <span class="op">=</span> <span class="va">unique</span>, FUN_numeric <span class="op">=</span> <span class="va">median</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error      z  Pr(&gt;|z|)    2.5 %   97.5 %  drat cyl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.04523    0.01489 -3.037 0.0023856 -0.07441 -0.01604 3.695   8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  am</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: rowid, type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo, mpg, hp, drat, cyl, am, eps </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Numeric contrasts</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast estimate std.error statistic  p.value conf.low conf.…¹</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(+1)  -<span style="color: #BB0000;">0.068</span><span style="color: #BB0000; text-decoration: underline;">2</span>    0.010<span style="text-decoration: underline;">1</span>     -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>  -<span style="color: #BB0000;">0.088</span><span style="color: #BB0000; text-decoration: underline;">1</span> -<span style="color: #BB0000;">0.048</span><span style="color: #BB0000; text-decoration: underline;">4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable name ¹​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast estimate std.error statistic  p.value conf.low conf.…¹</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(+5)   -<span style="color: #BB0000;">0.341</span>    0.050<span style="text-decoration: underline;">6</span>     -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   -<span style="color: #BB0000;">0.440</span>  -<span style="color: #BB0000;">0.242</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable name ¹​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(100) - m…  -<span style="color: #BB0000;">0.682</span>   0.101   -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>  -<span style="color: #BB0000;">0.881</span>  -<span style="color: #BB0000;">0.484</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"iqr"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(Q3) - me…   -<span style="color: #BB0000;">5.70</span>   0.845   -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   -<span style="color: #BB0000;">7.35</span>   -<span style="color: #BB0000;">4.04</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"sd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(x + sd/2…   -<span style="color: #BB0000;">4.68</span>   0.694   -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   -<span style="color: #BB0000;">6.04</span>   -<span style="color: #BB0000;">3.32</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"minmax"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type     term  contrast       estim…¹ std.e…² stati…³  p.value conf.…⁴ conf.…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> response hp    mean(Max) - m…   -<span style="color: #BB0000;">19.3</span>    2.86   -<span style="color: #BB0000;">6.74</span> 1.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   -<span style="color: #BB0000;">24.9</span>   -<span style="color: #BB0000;">13.7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with abbreviated variable names ¹​estimate, ²​std.error, ³​statistic,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁴​conf.low, ⁵​conf.high</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using a function to specify a custom difference in one regressor</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span></span>
<span class="r-in"><span><span class="va">dat</span><span class="op">$</span><span class="va">new_hp</span> <span class="op">&lt;-</span> <span class="fl">49</span> <span class="op">*</span> <span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">hp</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">hp</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">modlog</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">new_hp</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fdiff</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span><span class="va">modlog</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>new_hp <span class="op">=</span> <span class="va">fdiff</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Term Contrast Estimate Std. Error      z  Pr(&gt;|z|)  2.5 %  97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  new_hp   custom   -1.974     0.7105 -2.778 0.0054696 -3.366 -0.5812</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adjusted Risk Ratio: see the contrasts vignette</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">vs</span> <span class="op">~</span> <span class="va">mpg</span>, data <span class="op">=</span> <span class="va">mtcars</span>, family <span class="op">=</span> <span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span><span class="va">mod</span>, transform_pre <span class="op">=</span> <span class="st">"lnratioavg"</span>, transform_post <span class="op">=</span> <span class="va">exp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate   Pr(&gt;|z|) 2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mpg mean(+1)    1.135 2.3808e-10 1.091   1.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adjusted Risk Ratio: Manual specification of the `transform_pre`</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span></span></span>
<span class="r-in"><span>     <span class="va">mod</span>,</span></span>
<span class="r-in"><span>     transform_pre <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">hi</span>, <span class="va">lo</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">hi</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">lo</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     transform_post <span class="op">=</span> <span class="va">exp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate   Pr(&gt;|z|) 2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mpg       +1    1.135 2.3808e-10 1.091   1.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># cross contrasts</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">gear</span><span class="op">)</span> <span class="op">+</span> <span class="va">hp</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"gear"</span><span class="op">)</span>, cross <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Model matrix is rank deficient. Some variance-covariance parameters are</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   missing.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C: cyl C: gear Estimate Std. Error       z Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6 - 4   4 - 3  -0.6306      3.405 -0.1852  0.85307 -7.303  6.042</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6 - 4   5 - 3   2.6778      4.617  0.5800  0.56193 -6.372 11.727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8 - 4   4 - 3   3.3475      6.427  0.5208  0.60249 -9.250 15.945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8 - 4   5 - 3   5.5250      5.868  0.9416  0.34642 -5.976 17.026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast_cyl, contrast_gear, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># variable-specific contrasts</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gear <span class="op">=</span> <span class="st">"sequential"</span>, hp <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Model matrix is rank deficient. Some variance-covariance parameters are</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   missing.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error       z Pr(&gt;|z|)  2.5 %  97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    4 - 3   3.4095      2.587  1.3177 0.187591 -1.662  8.4806</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  gear    5 - 4   2.6277      2.747  0.9566 0.338744 -2.756  8.0113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp      +10  -0.5741      0.225 -2.5518 0.010718 -1.015 -0.1331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># hypothesis test: is the `hp` marginal effect at the mean equal to the `drat` marginal effect</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">drat</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">mod</span>,</span></span>
<span class="r-in"><span>    newdata <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    hypothesis <span class="op">=</span> <span class="st">"wt = drat"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Term Estimate Std. Error      z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  wt=drat   -6.225      1.052 -5.919 3.2398e-09 -8.287 -4.164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same hypothesis test using row indices</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">mod</span>,</span></span>
<span class="r-in"><span>    newdata <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    hypothesis <span class="op">=</span> <span class="st">"b1 - b2 = 0"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Term Estimate Std. Error      z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  b1-b2=0   -6.225      1.052 -5.919 3.2398e-09 -8.287 -4.164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same hypothesis test using numeric vector of weights</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">mod</span>,</span></span>
<span class="r-in"><span>    newdata <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    hypothesis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Term Estimate Std. Error      z   Pr(&gt;|z|)  2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  custom   -6.225      1.052 -5.919 3.2398e-09 -8.287 -4.164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># two custom contrasts using a matrix of weights</span></span></span>
<span class="r-in"><span><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>    <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">mod</span>,</span></span>
<span class="r-in"><span>    newdata <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    hypothesis <span class="op">=</span> <span class="va">lc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Term Estimate Std. Error       z   Pr(&gt;|z|)   2.5 % 97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  custom   -6.225      1.052 -5.9190 3.2398e-09  -8.287 -4.164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  custom   -5.238      5.624 -0.9315    0.35162 -16.261  5.784</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># `by` argument</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span> <span class="op">*</span> <span class="va">am</span> <span class="op">*</span> <span class="va">vs</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, by <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast Estimate Std. Error       z   Pr(&gt;|z|)   2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    am    1 - 0  4.69801     1.0601  4.4316 9.3531e-06  2.6202  6.77580</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp       +1 -0.06878     0.0182 -3.7797 0.00015703 -0.1044 -0.03311</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    vs    1 - 0 -0.29433     2.3379 -0.1259 0.89981407 -4.8766  4.28789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span> <span class="op">*</span> <span class="va">am</span> <span class="op">*</span> <span class="va">vs</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">avg_comparisons</span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="st">"hp"</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vs"</span>, <span class="st">"am"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term Contrast vs am Estimate Std. Error      z  Pr(&gt;|z|)    2.5 %    97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp mean(+1)  0  0 -0.04215    0.02477 -1.702 0.0887904 -0.09070  0.006394</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp mean(+1)  0  1 -0.03685    0.01240 -2.971 0.0029676 -0.06116 -0.012540</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp mean(+1)  1  0 -0.09941    0.05345 -1.860 0.0628876 -0.20417  0.005344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hp mean(+1)  1  1 -0.11115    0.04634 -2.399 0.0164473 -0.20197 -0.020336</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  response </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, contrast, vs, am, estimate, std.error, statistic, p.value, conf.low, conf.high, predicted, predicted_hi, predicted_lo </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">nnet</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/nnet/man/multinom.html" class="external-link">multinom</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">gear</span><span class="op">)</span> <span class="op">~</span> <span class="va">mpg</span> <span class="op">+</span> <span class="va">am</span> <span class="op">*</span> <span class="va">vs</span>, data <span class="op">=</span> <span class="va">mtcars</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">by</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3,4"</span>, <span class="st">"3,4"</span>, <span class="st">"5"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">comparisons</span><span class="op">(</span><span class="va">mod</span>, type <span class="op">=</span> <span class="st">"probs"</span>, by <span class="op">=</span> <span class="va">by</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Term  By   Estimate Std. Error        z  Pr(&gt;|z|)    2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    am 3,4 -0.2227925   0.079558 -2.80038 0.0051042 -0.37872 -0.06686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    am   5  0.4455851   0.159116  2.80038 0.0051042  0.13372  0.75745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mpg 3,4  0.0004635   0.005796  0.07997 0.9362637 -0.01090  0.01182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mpg   5 -0.0009270   0.011592 -0.07997 0.9362637 -0.02365  0.02179</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    vs 3,4  0.1021021   0.073236  1.39416 0.1632708 -0.04144  0.24564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    vs   5 -0.2042041   0.146472 -1.39416 0.1632708 -0.49128  0.08287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction type:  probs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: type, term, by, estimate, std.error, statistic, p.value, conf.low, conf.high </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Vincent Arel-Bundock.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

